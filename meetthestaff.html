<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meet the Staff | British Hills Summer Camp</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Cinzel:wght@400;700&family=Patrick+Hand&display=swap" rel="stylesheet">

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: '#fdfbf7',
                        hunter: '#234f32',
                        'hunter-dark': '#1a3b25',
                        gold: '#c5a009',
                    },
                    fontFamily: {
                        header: ['Cinzel', 'serif'],
                        body: ['Patrick Hand', 'cursive'],
                        accent: ['Architects Daughter', 'cursive'],
                    },
                    boxShadow: {
                        'paper': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Styles for aesthetics */
        body {
            background-color: #fdfbf7;
            background-image: radial-gradient(#c5a009 0.5px, transparent 0.5px);
            background-size: 20px 20px;
            /* Subtle texture effect to mimic paper */
        }
        
        .card-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Scrollbar styling for the question list */
        .custom-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #fdfbf7; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #c5a009; 
            border-radius: 4px;
        }
    </style>
</head>
<body class="text-hunter font-body min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-hunter text-cream py-6 border-b-4 border-gold shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-5xl font-header font-bold tracking-wider">Meet the Team</h1>
            <p class="font-accent text-lg md:text-xl text-gold mt-2">Get to know the British Hills Staff!</p>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto px-4 py-8 relative">

        <!-- VIEW 1: STAFF GALLERY -->
        <div id="gallery-view" class="transition-opacity duration-500 ease-in-out">
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="staff-grid">
                <!-- Staff cards will be injected here via JS -->
            </div>
        </div>

        <!-- VIEW 2: VIDEO CHAT INTERFACE -->
        <div id="chat-view" class="hidden fixed inset-0 bg-hunter/90 z-50 flex items-center justify-center p-4">
            
            <div class="bg-cream rounded-xl shadow-2xl w-full max-w-5xl h-[90vh] md:h-[80vh] flex flex-col md:flex-row overflow-hidden border-4 border-gold relative">
                
                <!-- Close / Back Button -->
                <button onclick="closeChat()" class="absolute top-4 left-4 z-20 bg-white/80 hover:bg-white text-hunter px-4 py-2 rounded-full font-header font-bold shadow-md flex items-center gap-2 transition-colors text-sm md:text-base">
                    <span>&larr;</span> Back
                </button>

                <!-- Left Column: Video Player -->
                <!-- Mobile Fix: h-[35vh] restricts height on phone, md:h-auto lets it fill height on desktop -->
                <div class="w-full md:w-2/3 h-[35vh] md:h-auto bg-hunter-dark relative flex items-center justify-center group shrink-0">
                    
                    <!-- The Actual Video Element -->
                    <!-- Removed poster attribute to prevent flashing. Background color handles the "no video" state. -->
                    <video id="main-video" class="w-full h-full object-contain md:object-cover" controls playsinline>
                        <source src="" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>

                    <!-- Debug overlay removed as requested -->

                </div>

                <!-- Right Column: Interaction Panel -->
                <!-- Mobile Fix: flex-1 ensures it takes all remaining space -->
                <div class="w-full md:w-1/3 flex-1 flex flex-col bg-cream border-l-0 md:border-l-4 border-gold min-h-0">
                    
                    <!-- Staff Header -->
                    <div class="p-4 md:p-6 border-b-2 border-hunter/20 bg-white shrink-0">
                        <h2 id="chat-staff-name" class="text-2xl md:text-4xl font-header font-bold text-hunter">Staff Name</h2>
                        <p id="chat-staff-role" class="text-lg md:text-xl font-accent text-gold-dark mt-1">Role</p>
                    </div>

                    <!-- Conversation Zone -->
                    <div class="flex-grow p-4 md:p-6 flex flex-col gap-3 md:gap-4 overflow-y-auto custom-scroll bg-cream">
                        <p class="font-body text-base md:text-lg text-hunter/80 mb-1">Ask a question:</p>
                        
                        <div id="question-buttons" class="flex flex-col gap-2 md:gap-3 pb-4">
                            <!-- Buttons injected via JS -->
                        </div>
                    </div>

                    <!-- Footer Area -->
                    <div class="p-3 md:p-4 bg-hunter/10 text-center text-xs md:text-sm font-accent text-hunter shrink-0">
                        British Hills Summer Camp
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-hunter text-cream py-8 mt-8 border-t-4 border-gold">
        <div class="container mx-auto px-4 text-center font-header">
            <p>&copy; 2024 British Hills. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // ==========================================
        // 1. DATA CONFIGURATION
        // ==========================================
        // Edit this array to add/remove staff or change questions.
        // Filenames are automatically assumed based on name + action, but can be overridden.
        
        const staffData = [
            {
                id: "marcus",
                name: "Marcus",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Marcus&background=234f32&color=fff&size=400", // Replace with real photo path later e.g. 'assets/images/marcus.jpg'
                introVideo: "assets/meetthestaffvids/marcus_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/marcus_q1.mp4" },
                    { text: "What is your favourite place in Japan?", video: "assets/meetthestaffvids/marcus_q2.mp4" },
                    { text: "What's your favourite food?", video: "assets/meetthestaffvids/marcus_q3.mp4" }
                ]
            },
            {
                id: "randy",
                name: "Randy",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Randy&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/randy_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/randy_q1.mp4" },
                    { text: "What do you recommend at British Hills?", video: "assets/meetthestaffvids/randy_q2.mp4" },
                    { text: "What are your hobbies?", video: "assets/meetthestaffvids/randy_q3.mp4" }
                ]
            },
            {
                id: "felicity",
                name: "Felicity",
                role: "Attendant",
                image: "https://ui-avatars.com/api/?name=Felicity&background=c5a009&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/felicity_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/felicity_q1.mp4" },
                    { text: "What do you recommend at British Hills?", video: "assets/meetthestaffvids/felicity_q2.mp4" },
                    { text: "Who should I tell if I have allergies?", video: "assets/meetthestaffvids/felicity_q3.mp4" }
                ]
            },
            {
                id: "yuko",
                name: "Yuko",
                role: "Attendant",
                image: "https://ui-avatars.com/api/?name=Yuko&background=c5a009&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/yuko_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/yuko_q1.mp4" },
                    { text: "What do you recommend at British Hills?", video: "assets/meetthestaffvids/yuko_q2.mp4" },
                    { text: "How did you learn English?", video: "assets/meetthestaffvids/yuko_q3.mp4" }
                ]
            },
            {
                id: "mizuki",
                name: "Mizuki",
                role: "Attendant",
                image: "https://ui-avatars.com/api/?name=Mizuki&background=c5a009&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/mizuki_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/mizuki_q1.mp4" },
                    { text: "What is your favorite season here?", video: "assets/meetthestaffvids/mizuki_q2.mp4" },
                    { text: "Do you like Harry Potter?", video: "assets/meetthestaffvids/mizuki_q3.mp4" }
                ]
            },
            {
                id: "megumi",
                name: "Megumi",
                role: "Attendant",
                image: "https://ui-avatars.com/api/?name=Megumi&background=c5a009&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/megumi_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/megumi_q1.mp4" },
                    { text: "What's the best souvenir to buy?", video: "assets/meetthestaffvids/megumi_q2.mp4" },
                    { text: "What is your favorite sweet?", video: "assets/meetthestaffvids/megumi_q3.mp4" }
                ]
            },
            {
                id: "moja",
                name: "Moja",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Moja&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/moja_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/moja_q1.mp4" },
                    { text: "Do you like living in Japan?", video: "assets/meetthestaffvids/moja_q2.mp4" },
                    { text: "How many languages do you speak?", video: "assets/meetthestaffvids/moja_q3.mp4" }
                ]
            },
            {
                id: "emma",
                name: "Emma",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Emma&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/emma_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/emma_q1.mp4" },
                    { text: "What's your favourite subject?", video: "assets/meetthestaffvids/emma_q2.mp4" },
                    { text: "What's your favourite lesson at British Hills?", video: "assets/meetthestaffvids/emma_q3.mp4" }
                ]
            },
            {
                id: "matt",
                name: "Matt",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Matt&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/matt_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/matt_q1.mp4" },
                    { text: "What's your favourite TV show?", video: "assets/meetthestaffvids/matt_q2.mp4" },
                    { text: "What's your favourite lesson at British Hills?", video: "assets/meetthestaffvids/matt_q3.mp4" }
                ]
            },
            {
                id: "graham",
                name: "Graham",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Graham&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/graham_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/graham_q1.mp4" },
                    { text: "What's your favourite lesson at British Hills?", video: "assets/meetthestaffvids/graham_q2.mp4" },
                    { text: "What's your favourite football team?", video: "assets/meetthestaffvids/graham_q3.mp4" }
                ]
            },
            {
                id: "shannon",
                name: "Shannon",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Shannon&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/shannon_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/shannon_q1.mp4" },
                    { text: "What do you recommend at British Hills?", video: "assets/meetthestaffvids/shannon_q2.mp4" },
                    { text: "What are your hobbies?", video: "assets/meetthestaffvids/shannon_q3.mp4" }
                ]
            },
            {
                id: "donovan",
                name: "Donovan",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Donovan&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/donovan_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/donovan_q1.mp4" },
                    { text: "What is your favourite place in Japan?", video: "assets/meetthestaffvids/donovan_q2.mp4" },
                    { text: "What are your hobbies?", video: "assets/meetthestaffvids/donovan_q3.mp4" }
                ]
            },
            {
                id: "luke",
                name: "Luke",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Luke&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/luke_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/luke_q1.mp4" },
                    { text: "What is your favourite British Hills Lesson?", video: "assets/meetthestaffvids/luke_q2.mp4" },
                    { text: "What season do you like?", video: "assets/meetthestaffvids/luke_q3.mp4" }
                ]
            },
            {
                id: "chantelle",
                name: "Chantelle",
                role: "Teacher",
                image: "https://ui-avatars.com/api/?name=Chantelle&background=234f32&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/chantelle_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/chantelle_q1.mp4" },
                    { text: "What's your favourite place in Japan?", video: "assets/meetthestaffvids/chantelle_q2.mp4" },
                    { text: "What are you afraid of?", video: "assets/meetthestaffvids/chantelle_q3.mp4" }
                ]
            },
            {
                id: "takako",
                name: "Takako",
                role: "Attendant",
                image: "https://ui-avatars.com/api/?name=Takako&background=c5a009&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/takako_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/takako_q1.mp4" },
                    { text: "How did you learn English?", video: "assets/meetthestaffvids/takako_q2.mp4" },
                    { text: "What is your favourite season?", video: "assets/meetthestaffvids/takako_q3.mp4" }
                ]
            },
            {
                id: "kanon",
                name: "Kanon",
                role: "Attendant",
                image: "https://ui-avatars.com/api/?name=Kanon&background=c5a009&color=fff&size=400",
                introVideo: "assets/meetthestaffvids/kanon_intro.mp4",
                questions: [
                    { text: "Where are you from?", video: "assets/meetthestaffvids/kanon_q1.mp4" },
                    { text: "What are you afraid of?", video: "assets/meetthestaffvids/kanon_q2.mp4" },
                    { text: "Have you studied abroad?", video: "assets/meetthestaffvids/kanon_q3.mp4" }
                ]
            }
        ];

        // ==========================================
        // 2. DOM ELEMENTS & INITIALIZATION
        // ==========================================
        const galleryView = document.getElementById('gallery-view');
        const staffGrid = document.getElementById('staff-grid');
        const chatView = document.getElementById('chat-view');
        const mainVideo = document.getElementById('main-video');
        // Removed debug element references

        // Initialize Gallery
        function initGallery() {
            staffGrid.innerHTML = '';
            staffData.forEach(staff => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-lg shadow-paper overflow-hidden card-lift border-2 border-transparent hover:border-gold cursor-pointer flex flex-col";
                card.onclick = () => openChat(staff.id);

                // REPLACED: <img> tag with <video> tag to use first frame as thumbnail
                // We use bg-hunter-dark as a background while the video metadata loads
                card.innerHTML = `
                    <div class="h-64 w-full bg-hunter-dark overflow-hidden relative">
                        <video 
                            src="${staff.introVideo}" 
                            class="w-full h-full object-cover pointer-events-none" 
                            muted 
                            playsinline 
                            preload="metadata" 
                            onloadeddata="this.currentTime=0.01">
                        </video>
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-4">
                        </div>
                    </div>
                    <div class="p-4 text-center">
                        <h3 class="text-2xl font-header font-bold text-hunter">${staff.name}</h3>
                        <p class="text-gold-dark font-accent text-lg">${staff.role}</p>
                        <button class="mt-4 bg-hunter text-cream px-4 py-2 rounded-full font-body text-lg w-full hover:bg-hunter-dark transition-colors">
                            Chat with ${staff.name}
                        </button>
                    </div>
                `;
                staffGrid.appendChild(card);
            });
        }

        // ==========================================
        // 3. CHAT LOGIC
        // ==========================================
        
        function openChat(staffId) {
            const staff = staffData.find(s => s.id === staffId);
            if (!staff) return;

            // Update UI with Staff Details
            document.getElementById('chat-staff-name').textContent = staff.name;
            document.getElementById('chat-staff-role').textContent = staff.role;

            // Generate Question Buttons
            const questionContainer = document.getElementById('question-buttons');
            questionContainer.innerHTML = ''; // Clear old buttons

            // Play Intro Video by default
            playVideo(staff.introVideo);

            // Create buttons
            staff.questions.forEach((q, index) => {
                const btn = document.createElement('button');
                btn.className = "text-left bg-white border-2 border-hunter/20 p-3 md:p-4 rounded-lg shadow-sm hover:border-gold hover:shadow-md hover:bg-cream transition-all group w-full";
                btn.innerHTML = `
                    <span class="block font-header font-bold text-hunter text-xs md:text-sm mb-1 group-hover:text-gold-dark">Question ${index + 1}</span>
                    <span class="font-body text-lg md:text-xl leading-tight">${q.text}</span>
                `;
                btn.onclick = () => {
                    // Reset styling on all buttons
                    Array.from(questionContainer.children).forEach(b => {
                        b.classList.remove('border-gold', 'bg-cream');
                        b.classList.add('border-hunter/20', 'bg-white');
                    });
                    // Highlight active button
                    btn.classList.remove('border-hunter/20', 'bg-white');
                    btn.classList.add('border-gold', 'bg-cream');
                    
                    playVideo(q.video);
                };
                questionContainer.appendChild(btn);
            });

            // Show Chat View
            galleryView.classList.add('opacity-0'); // Fade out gallery
            setTimeout(() => {
                galleryView.classList.add('hidden');
                chatView.classList.remove('hidden');
            }, 300); // Wait for transition
        }

        function closeChat() {
            // Stop video
            mainVideo.pause();
            mainVideo.currentTime = 0;
            mainVideo.src = "";

            // Hide Chat, Show Gallery
            chatView.classList.add('hidden');
            galleryView.classList.remove('hidden');
            setTimeout(() => {
                galleryView.classList.remove('opacity-0');
            }, 50);
        }

        function playVideo(src) {
            // Simplified Video Logic (No debug overlay)
            mainVideo.src = src;
            mainVideo.load();
            
            // Try to play
            const playPromise = mainVideo.play();
            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Playback started
                })
                .catch(error => {
                    // Auto-play was prevented or file not found
                    console.log("Video status: " + error);
                });
            }
        }

        // Removed mainVideo.onerror and mainVideo.onplaying as they were for the debug overlay

        // ==========================================
        // 4. RUN
        // ==========================================
        window.addEventListener('DOMContentLoaded', initGallery);

    </script>
</body>
</html>
